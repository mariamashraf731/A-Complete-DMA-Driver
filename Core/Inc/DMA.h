/*
 * DMA.h
 *
 *  Created on: Jan 6, 2022
 *      Author: sohila mohamed
 */

#ifndef INC_DMA_H_
#define INC_DMA_H_

#define DMA_REG(BASE,OFFSET) ((unsigned int*)(BASE + OFFSET))
//stream 0
#define DMA_S0CR DMA_REG(0x40026400,0x0010)
#define DMA_S0NDTR DMA_REG(0x40026400,0x0014)
#define DMA_S0PAR DMA_REG(0x40026400,0x0018)
#define DMA_S0M0AR DMA_REG(0x40026400,0x001C)
#define DMA_S0FCR DMA_REG(0x40026400,0x0024)
//stream 1
#define DMA_S1CR DMA_REG(0x40026400,0x0028)
#define DMA_S1NDTR DMA_REG(0x40026400,0x002C)
#define DMA_S1PAR DMA_REG(0x40026400,0x0030)
#define DMA_S1M0AR DMA_REG(0x40026400,0x0034)
#define DMA_S1FCR DMA_REG(0x40026400,0x003C)
//stream 2
#define DMA_S2CR DMA_REG(0x40026400,0x0040)
#define DMA_S2NDTR DMA_REG(0x40026400,0x0044)
#define DMA_S2PAR DMA_REG(0x40026400,0x0048)
#define DMA_S2M0AR DMA_REG(0x40026400,0x004C)
#define DMA_S2FCR DMA_REG(0x40026400,0x0054)
//stream 3
#define DMA_S3CR DMA_REG(0x40026400,0x0058)
#define DMA_S3NDTR DMA_REG(0x40026400,0x005C)
#define DMA_S3PAR DMA_REG(0x40026400,0x0060)
#define DMA_S3M0AR DMA_REG(0x40026400,0x0064)
#define DMA_S3FCR DMA_REG(0x40026400,0x006C)
//stream 4
#define DMA_S4CR DMA_REG(0x40026400,0x0070)
#define DMA_S4NDTR DMA_REG(0x40026400,0x0074)
#define DMA_S4PAR DMA_REG(0x40026400,0x0078)
#define DMA_S4M0AR DMA_REG(0x40026400,0x007C)
#define DMA_S4FCR DMA_REG(0x40026400,0x0084)
//stream 5
#define DMA_S5CR DMA_REG(0x40026400,0x0088)
#define DMA_S5NDTR DMA_REG(0x40026400,0x008C)
#define DMA_S5PAR DMA_REG(0x40026400,0x0090)
#define DMA_S5M0AR DMA_REG(0x40026400,0x0094)
#define DMA_S5FCR DMA_REG(0x40026400,0x009C)
//stream 6
#define DMA_S6CR DMA_REG(0x40026400,0x00A0)
#define DMA_S6NDTR DMA_REG(0x40026400,0x00A4)
#define DMA_S6PAR DMA_REG(0x40026400,0x00A8)
#define DMA_S6M0AR DMA_REG(0x40026400,0x00AC)
#define DMA_S6FCR DMA_REG(0x40026400,0x00B4)
//stream 7
#define DMA_S7CR DMA_REG(0x40026400,0x00B8)
#define DMA_S7NDTR DMA_REG(0x40026400,0x00BC)
#define DMA_S7PAR DMA_REG(0x40026400,0x00C0)
#define DMA_S7M0AR DMA_REG(0x40026400,0x00C4)
#define DMA_S7FCR DMA_REG(0x40026400,0x00CC)

#define DMA_LISR DMA_REG(0x40026400,0x0000)
#define DMA_LIFCR DMA_REG(0x40026400,0x0008)
#define DMA_HISR DMA_REG(0x40026400,0x0004)
#define DMA_HIFCR DMA_REG(0x40026400,0x000C)
//interrupt
#define NVIC_ISER1 DMA_REG(0xE000E100, 0x04)
#define NVIC_ICER1 DMA_REG(0xE000E100, 0x180 + 0x04)
#define NVIC_ISER2 DMA_REG(0xE000E100, 0x08)


void DMA_Init(unsigned char STREAM);
void DMA_Parameters(unsigned char STREAM,unsigned int* M_ADDRESS,unsigned int* P_ADDRESS );
void Start_Transfer(unsigned char STREAM);
unsigned char Transfer_state(unsigned char STREAM);
void TC_CalloutNotification();

#endif /* INC_DMA_H_ */
